
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Creating Concrete Objects - OJ's rants</title>
  <meta name="author" content="OJ Reeves">

  <link rel="openid.server" href="http://www.myopenid.com/server" />
  <link rel="openid.delegate" href="http://thecolonial.myopenid.com/" />
  <link rel="openid2.local_id" href="http://thecolonial.myopenid.com" />
  <link rel="openid2.provider" href="http://www.myopenid.com/server" />
  <meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=thecolonial.myopenid.com" />


  
  <meta name="description" content="Being a fan of OOP, I tend to write a lot of object-oriented code. Coming up with a meaningful object model that behaves in an appropriate way is &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link href="http://feeds.feedburner.com/OjsRants" rel="alternate" title="OJ's rants RSS 2.0" type="application/rss+xml">
  <link rel="canonical" href="http://buffered.io/posts/creating-concrete-objects">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  <script src="/javascripts/modernizr-2.0.js" type="text/javascript"></script>
  <script src="/javascripts/ender.js" type="text/javascript"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>

  <script type="text/javascript">
    Modernizr.load([
      { load: '//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js' },
      { load: '/javascripts/jquery.lightbox.js', complete: function() {
        $("a[rel^='lightbox']").lightbox();
      } }
    ]);
  </script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8648787-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">OJ's rants</a></h1>
  
    <h2>It's not about you, it's about the software</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/OjsRants" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:buffered.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/posts/archives">Archives</a></li>
  <li><a href="/+">About</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Creating Concrete Objects</h1>
    
    
      <p class="meta">
        








  



<time datetime="2007-07-14T20:21:00+10:00" pubdate data-updated="true">14 Jul 2007</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Being a fan of <a href="http://en.wikipedia.org/wiki/Object-oriented_programming" title="Object-oriented Programming">OOP</a>, I tend to write a lot of object-oriented code. Coming up with a meaningful object model that behaves in an appropriate way is just as important as having a meaningful interface to your objects. A concrete object is an object that actually behaves in the manner you&#8217;d expect without any wierd side-effects, and has the same kind of attributes that you&#8217;d expect of a primitive data type.</p>

<p>Creating concrete data objects/classes is a good thing to do, as it reduces the probability of bugs, and crazy side-effects. It&#8217;s also an important first step in writing intuitive code - which will be the topic of a later blog post.</p>

<!--more-->


<p>I&#8217;d like to quote one of my lecturers that I learned from during my time at <a href="http://www.uts.edu.au/" title="University of Technology, Sydney">UTS</a>&#8230;<blockquote><p>If in doubt, do as the ints do.</p></blockquote>I realise the meaning of this point isn&#8217;t obvious on the surface, but with some example code it&#8217;ll all become clear.</p>

<h3>An example concrete data type - a 3D Vector class</h3>


<p>Let&#8217;s say you&#8217;re writing some code to do some 3D rendering, and you&#8217;re in need of a class that can handle the functionality and behaviour of Vectors in 3D space. The first and most obvious thing that you need to handle are x, y and z coordinates. Let&#8217;s start with a very basic Vector3 class:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">Z</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>At this point you&#8217;ve got an object that gives public access to its internal workings. Can we say that&#8217;s what the int datatype does? Are you able to mess around with its inner workings? No, you&#8217;re not. Not just that, but the idea of public member variables breaks the whole notion of <a href="http://en.wikipedia.org/wiki/Information_hiding" title="Information Hiding">encapsulation/information hiding</a>. We need to hide the internal workings, but in doing so we remove the ability to set and get the values on the object. We need to expose some functions that will allow us to do that. Our improved version of the code might look like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is an improvement, as we now have control over the inner workings of the object without exposing the implementation to external classes. Now let&#8217;s say that we want to be able to construct a new Vector3 object through a variety of ways, ie. in exactly the same way we can with int. For example:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="c1">// this is what we can do with ints:</span>
</span><span class='line'><span class="kt">int</span> <span class="n">a</span><span class="p">(</span> <span class="mi">1</span> <span class="p">);</span>
</span><span class='line'><span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">c</span><span class="p">(</span> <span class="n">b</span> <span class="p">);</span>
</span><span class='line'><span class="kt">int</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">;</span>
</span><span class='line'><span class="n">d</span> <span class="o">=</span> <span class="n">e</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// we want do the same kind of things with our</span>
</span><span class='line'><span class="c1">// own class</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">a</span><span class="p">(</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span> <span class="p">);</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">c</span><span class="p">(</span> <span class="n">b</span> <span class="p">);</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">;</span>
</span><span class='line'><span class="n">d</span> <span class="o">=</span> <span class="n">e</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>We need to expose some options for construction and assignment. So our next iteration might look like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// construction - default to zero if nothing is passed in</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">);</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// assigment operator</span>
</span><span class='line'>  <span class="kt">void</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>The above interface should do what we need it to&#8230; or should it? A more careful examination will reveal that it doesn&#8217;t actually behave exactly as you&#8217;d expect. The copy constructor takes a reference to another Vector3, which <em>could be modified</em> inside the copy constructor. We have the same issue with our assignment operator. Integers do not behave this way, so we need to modify our interface a bit more to tidy it up:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// construction - default to zero if nothing is passed in</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">);</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// assigment operator</span>
</span><span class='line'>  <span class="kt">void</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>We&#8217;ve now made sure that the Vector3 class does not modify anything that doesn&#8217;t belong to it, which again is how the integers behave. But there is still something missing. The assignment operator doesn&#8217;t allow for chaining (eg. int a = b = c = d;) just like the ints do, so we need to make a slight adjustment to the overload:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="c1">// return a const reference to ourself</span>
</span><span class='line'><span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>There, much better.</p>

<p>We&#8217;re now at the stage where we want to be able to add/subtract/multiply/divide vectors together, but before we start overloading the operators we should look at the way integers behave when they go through the same operations:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">;</span>
</span><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span> <span class="c1">// b doesn&#39;t change, a does.</span>
</span><span class='line'><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">;</span> <span class="c1">// both a and b do not change.</span>
</span><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">c</span><span class="p">;</span> <span class="c1">// both b and c do not change, but a does.</span>
</span><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="p">(</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="p">)</span> <span class="o">*</span> <span class="n">d</span><span class="p">;</span> <span class="c1">// a is the only thing that changes</span>
</span><span class='line'><span class="n">a</span> <span class="o">+=</span> <span class="n">b</span> <span class="o">/</span> <span class="n">c</span><span class="p">;</span> <span class="c1">// again, a is the only thing that changes.</span>
</span></code></pre></td></tr></table></div></figure>


<p>It&#8217;s obvious from this that when we overload the operators, we only modify the content of the object if it is on the left hand side of one of the assignment operators. Our interface should make this obvious:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// construction - default to zero if nothing is passed in</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">);</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// assigment operators - not const because the current object</span>
</span><span class='line'>  <span class="c1">// needs to change</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">-=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">*=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">/=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// other operators - all const functions to make sure that the</span>
</span><span class='line'>  <span class="c1">// internal state of the object doesn&#39;t get modified when the</span>
</span><span class='line'>  <span class="c1">// function is called. Separate temporary instances of Vector3</span>
</span><span class='line'>  <span class="c1">// objects are created and  returned when executed.</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 + v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 - v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">/</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 * v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">*</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 / v2</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>The class is starting to take shape, but there are some other functions missing that are an integral part of any Vector class: normalise(), dot() and cross().</p>

<p>The normalise function is used to create a <a href="http://en.wikipedia.org/wiki/Unit_vector" title="Unit Vector">unit vector</a> (ie. a vector with a length of 1.0). But the question here is: when calling the function, should the object be modified, or should it return a copy of the Vector with a unit length? Let&#8217;s look at the difference in function signatures:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="c1">// this function would modify the object directly</span>
</span><span class='line'><span class="kt">void</span> <span class="n">Normalise</span><span class="p">();</span>
</span><span class='line'><span class="c1">// this function would return a new vector that is normalised</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">Normalise</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Making a decision like this can be a bit of a pain in the butt, but we&#8217;re fortunate in this case because we can deduce what should be done! Generally when dealing with normalised vectors, we tend to retain a reference to the normal while dealing with a stack of other vectors. So another instance of a vector is used alongside the other vectors. Let&#8217;s look at how this might be done with both above functions if we had a vector that we wanted to reuse, but get a normalise version of at the same time:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="c1">// this is the vector we want to keep as is, but need a</span>
</span><span class='line'><span class="c1">// normalised copy of</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">someVector</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// here&#39;s how we&#39;d do it with the first option:</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">normal1</span> <span class="o">=</span> <span class="n">someVector</span><span class="p">;</span>
</span><span class='line'><span class="n">normal1</span><span class="p">.</span><span class="n">Normalise</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// here&#39;s how we&#39;d do it with the second option:</span>
</span><span class='line'><span class="n">Vector3</span> <span class="n">normal2</span> <span class="o">=</span> <span class="n">someVector</span><span class="p">.</span><span class="n">Normalise</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>In my view, the second option is easier to read, and is a bit more intuitive. Not just that, but it&#8217;s less code! So based on this, we&#8217;ll utilise the second version of the function. Our class now looks like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// construction - default to zero if nothing is passed in</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">);</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// assigment operators - not const because the current object</span>
</span><span class='line'>  <span class="c1">// needs to change</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">-=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">*=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">/=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// other operators - all const functions to make sure that the</span>
</span><span class='line'>  <span class="c1">// internal state of the object doesn&#39;t get modified when the</span>
</span><span class='line'>  <span class="c1">// function is called. Separate temporary instances of Vector3</span>
</span><span class='line'>  <span class="c1">// objects are created and  returned when executed.</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 + v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 - v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">/</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 * v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">*</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 / v2</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// helpers</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="n">Normalise</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>So, next up we need the dot() function, which gives us the <a href="http://en.wikipedia.org/wiki/Dot_product" title="Dot Product">dot product</a> of two vectors. The dot product is a single value which represents the angle between the two vectors, so that&#8217;s what the function should return. Since the dot product requires two vectors, it would make sense for the function to be given a reference to the secont vector that is part of the dot product equation. <strong>None</strong> of the objects should be modified at all during the course of the function, so we should make that obvious in the function signature. Our class now looks like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// construction - default to zero if nothing is passed in</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">);</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// assigment operators - not const because the current object</span>
</span><span class='line'>  <span class="c1">// needs to change</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">-=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">*=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">/=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// other operators - all const functions to make sure that the</span>
</span><span class='line'>  <span class="c1">// internal state of the object doesn&#39;t get modified when the</span>
</span><span class='line'>  <span class="c1">// function is called. Separate temporary instances of Vector3</span>
</span><span class='line'>  <span class="c1">// objects are created and  returned when executed.</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 + v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 - v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">/</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 * v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">*</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 / v2</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// helpers</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="n">Normalise</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">Dot</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>Note that the function is marked as const to imply that the object will <em>not</em> have a different state when it&#8217;s called, and the parameter is a const reference to imply that the parameter will not be modified as well.</p>

<p>Finally, we need a function which will determine the <a href="http://en.wikipedia.org/wiki/Cross_product" title="Cross Product">cross product</a> of two vectors (commonly used to determine the vector that is perpendicular to two input vectors. The cross product equation takes two vectors and results in another vector, which again implies that the two input vectors do not change. Based on this implication, our function signature should be easy to deduce. While we&#8217;re there, let&#8217;s just chuck in a cheeky length() function which will give us the magnitude of the vector. Our class now looks like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// construction - default to zero if nothing is passed in</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">);</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// assigment operators - not const because the current object</span>
</span><span class='line'>  <span class="c1">// needs to change</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">-=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">*=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">/=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// other operators - all const functions to make sure that the</span>
</span><span class='line'>  <span class="c1">// internal state of the object doesn&#39;t get modified when the</span>
</span><span class='line'>  <span class="c1">// function is called. Separate temporary instances of Vector3</span>
</span><span class='line'>  <span class="c1">// objects are created and  returned when executed.</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 + v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 - v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">/</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 * v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">*</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 / v2</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">();</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// helpers</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="n">Normalise</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">Dot</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">Length</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="n">Cross</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>The interface to our class now looks fine.. except for one small omission. Const objects are read-only objects, and hence reading values from a const object should be legal. On the flip side, when we read a given x, y, or z value from a vector the vector shouldn&#8217;t be modified at all. So with that in mind, we should mark each of the getter function as const as well:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="k">class</span> <span class="nc">Vector3</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="k">private</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// change the variable names to make it obvious that</span>
</span><span class='line'>  <span class="c1">// they are member variables, not local or global.</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">public</span><span class="o">:</span>
</span><span class='line'>  <span class="c1">// construction - default to zero if nothing is passed in</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="p">);</span>
</span><span class='line'>  <span class="n">Vector3</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// assigment operators - not const because the current object</span>
</span><span class='line'>  <span class="c1">// needs to change</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">+=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">-=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">*=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>  <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">/=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// other operators - all const functions to make sure that the</span>
</span><span class='line'>  <span class="c1">// internal state of the object doesn&#39;t get modified when the</span>
</span><span class='line'>  <span class="c1">// function is called. Separate temporary instances of Vector3</span>
</span><span class='line'>  <span class="c1">// objects are created and  returned when executed.</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 + v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 - v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">/</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 * v2</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="k">operator</span><span class="o">*</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span> <span class="c1">// v1 / v2</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// getters</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetX</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetY</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">float</span> <span class="n">GetZ</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// setters</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">);</span>
</span><span class='line'>  <span class="kt">void</span> <span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// helpers</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="n">Normalise</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">Dot</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">Length</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'>  <span class="n">Vector3</span> <span class="n">Cross</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>We&#8217;re done! Our class looks complete (enough), so let&#8217;s pump out a definition for the functions (just for the sake of clarity).</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="n">Vector3</span><span class="o">::</span><span class="n">Vector3</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">)</span>
</span><span class='line'><span class="nl">title:</span> <span class="n">m_X</span><span class="p">(</span> <span class="n">x</span> <span class="p">),</span>
</span><span class='line'>  <span class="n">m_Y</span><span class="p">(</span> <span class="n">y</span> <span class="p">),</span>
</span><span class='line'>  <span class="n">m_Z</span><span class="p">(</span> <span class="n">z</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// don&#39;t need to do anything in the body of the</span>
</span><span class='line'>  <span class="c1">// function because we&#39;re using the initialisation</span>
</span><span class='line'>  <span class="c1">// lists instaed.</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Vector3</span><span class="o">::</span><span class="n">Vector3</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span>
</span><span class='line'><span class="nl">title:</span> <span class="n">m_X</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span> <span class="p">),</span>
</span><span class='line'>  <span class="n">m_Y</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span> <span class="p">),</span>
</span><span class='line'>  <span class="n">m_Z</span><span class="p">(</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// don&#39;t need to do anything in the body of the</span>
</span><span class='line'>  <span class="c1">// function because we&#39;re using the initialisation</span>
</span><span class='line'>  <span class="c1">// lists instaed.</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="c1">// check for self-assignment</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span> <span class="k">this</span> <span class="o">!=</span> <span class="o">&amp;</span><span class="n">v</span> <span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="n">m_X</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>    <span class="n">m_Y</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>    <span class="n">m_Z</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// return a reference to ourselves for chaining</span>
</span><span class='line'>  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">+=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">m_X</span> <span class="o">+=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Y</span> <span class="o">+=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Z</span> <span class="o">+=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">-=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">m_X</span> <span class="o">-=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Y</span> <span class="o">-=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Z</span> <span class="o">-=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">*=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">m_X</span> <span class="o">*=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Y</span> <span class="o">*=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Z</span> <span class="o">*=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">/=</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">m_X</span> <span class="o">/=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Y</span> <span class="o">/=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'>  <span class="n">m_Z</span> <span class="o">/=</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Vector3</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">+</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">Vector3</span><span class="p">(</span> <span class="n">m_X</span> <span class="o">+</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">,</span> <span class="n">m_Y</span> <span class="o">+</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">,</span> <span class="n">m_Z</span> <span class="o">+</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Vector3</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">-</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">Vector3</span><span class="p">(</span> <span class="n">m_X</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">,</span> <span class="n">m_Y</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">,</span> <span class="n">m_Z</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Vector3</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">/</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">Vector3</span><span class="p">(</span> <span class="n">m_X</span> <span class="o">/</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">,</span> <span class="n">m_Y</span> <span class="o">/</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">,</span> <span class="n">m_Z</span> <span class="o">/</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Vector3</span> <span class="n">Vector3</span><span class="o">::</span><span class="k">operator</span><span class="o">*</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">Vector3</span><span class="p">(</span> <span class="n">m_X</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span><span class="p">,</span> <span class="n">m_Y</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">,</span> <span class="n">m_Z</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">float</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">GetX</span><span class="p">()</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">m_X</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">float</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">GetY</span><span class="p">()</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">m_Y</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">float</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">GetZ</span><span class="p">()</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">m_Z</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">SetX</span><span class="p">(</span> <span class="kt">float</span> <span class="n">x</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">m_X</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">SetY</span><span class="p">(</span> <span class="kt">float</span> <span class="n">y</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">m_Y</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">SetZ</span><span class="p">(</span> <span class="kt">float</span> <span class="n">z</span> <span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">m_Z</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Vector3</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">Normalise</span><span class="p">()</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">length</span> <span class="o">=</span> <span class="n">Length</span><span class="p">();</span>
</span><span class='line'>  <span class="k">if</span><span class="p">(</span> <span class="n">length</span> <span class="o">==</span> <span class="mf">0.0</span> <span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="c1">// return a zero vector if it&#39;s got zero length</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">Vector3</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="kt">double</span> <span class="n">invLength</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">length</span><span class="p">;</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">Vector3</span><span class="p">(</span> <span class="n">m_X</span> <span class="o">*</span> <span class="n">invLength</span><span class="p">,</span> <span class="n">m_Y</span> <span class="o">*</span> <span class="n">invLength</span><span class="p">,</span> <span class="n">m_Z</span> <span class="o">*</span> <span class="n">invLength</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">double</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">Dot</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span>  <span class="n">m_X</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span> <span class="o">+</span> <span class="n">m_Y</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span> <span class="o">+</span> <span class="n">mZ</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">mZ</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kt">double</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">Length</span><span class="p">()</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span> <span class="n">m_X</span> <span class="o">*</span> <span class="n">m_X</span> <span class="o">+</span> <span class="n">m_Y</span> <span class="o">*</span> <span class="n">m_Y</span> <span class="o">+</span> <span class="n">mZ</span> <span class="o">*</span> <span class="n">mZ</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">Vector3</span> <span class="n">Vector3</span><span class="o">::</span><span class="n">Cross</span><span class="p">(</span> <span class="k">const</span> <span class="n">Vector3</span><span class="o">&amp;</span> <span class="n">v</span> <span class="p">)</span> <span class="k">const</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="n">Vector3</span><span class="p">(</span> <span class="n">m_Y</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span> <span class="o">-</span> <span class="n">m_Z</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span><span class="p">,</span>
</span><span class='line'>                  <span class="n">m_Z</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span> <span class="o">-</span> <span class="n">m_X</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Z</span><span class="p">,</span>
</span><span class='line'>                  <span class="n">m_X</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_Y</span> <span class="o">-</span> <span class="n">m_Y</span> <span class="o">*</span> <span class="n">v</span><span class="p">.</span><span class="n">m_X</span> <span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now that we have a functional class, we should have no problem using it in all of the above scenarios without any crazy side-effects. The class <em>should</em> be concrete! :)</p>

<p>Disclaimer: This code hasn&#8217;t been compiled, and might not run without a few tweaks. I wrote this off the top of my head while sitting in front of the TV! Comments, questions and flames are welcome.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">OJ Reeves</span></span>

      








  



<time datetime="2007-07-14T20:21:00+10:00" pubdate data-updated="true">14 Jul 2007</time>
      

<span class="categories">
  
    <a class='category' href='/categories/c-/'>C#</a>, <a class='category' href='/categories/howto/'>HOWTO</a>, <a class='category' href='/categories/software-development/'>Software Development</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://buffered.io/posts/creating-concrete-objects/" data-via="TheColonial" data-counturl="http://buffered.io/posts/creating-concrete-objects/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/posts/help-me-help-you/" title="Previous Post: Help Me Help You!">&laquo; Help Me Help You!</a>
      
      
        <a class="basic-alignment right" href="/posts/and-help-you-i-shall/" title="next Post: And Help You I Shall!">And Help You I Shall! &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>OJ on the Web</h1>
  <ul id="about_me">
    <li class="post">
      <a href="http://buffered.io/+" title="About OJ">About me</a>
    </li>
    <li class="post">
      <a href="http://functional.io/" title="Functional IO">Functional IO</a>
    </li>
    <li class="post">
      <a href="http://twitter.com/TheColonial" title="OJ @ Twitter">Twitter</a>
    </li>
    <li class="post">
      <a href="http://github.com/OJ/" title="OJ @ Github">Github</a>
    </li>
    <li class="post">
      <a href="http://bitbucket.org/OJ/" title="OJ @ Bitbucket">Bitbucket</a>
    </li>
    <li class="post">
      <a href="http://stackoverflow.com/users/611/oj" title="OJ @ SO">StackOverflow</a>
    </li>
    <li class="post">
      <a href="https://coderwall.com/oj"><img alt="Endorse OJ on Coderwall" src="http://api.coderwall.com/oj/endorsecount.png" /></a>
    </li>
  </ul>
  <iframe src="http://githubbadge.appspot.com/badge/OJ?s=1" style="border: 0;height: 142px;width: 200px;overflow: hidden;" frameBorder=0></iframe>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/posts/xss-flaws-via-mvc-model-binding-and-request.querystring-inconsistencies/">XSS Flaws via MVC Model Binding and Request.QueryString Inconsistencies</a>
      </li>
    
      <li class="post">
        <a href="/posts/stepping-down/">Stepping Down</a>
      </li>
    
      <li class="post">
        <a href="/posts/meaning/">Meaning</a>
      </li>
    
      <li class="post">
        <a href="/posts/webmachine-erlydtl-and-riak-part-5/">Webmachine, ErlyDTL and Riak - Part 5</a>
      </li>
    
      <li class="post">
        <a href="/posts/webmachine-erlydtl-and-riak-part-4/">Webmachine, ErlyDTL and Riak - Part 4</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("TheColonial", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/TheColonial" class="twitter-follow-button" data-show-count="false">Follow @TheColonial</a>
  
</section>

<section>
  <h1>Series</h1>
  <ul id="series">
    <li class='series'><a href='/series/project-euler/'>Project Euler (11)</a></li>
<li class='series'><a href='/series/web-development-with-erlang/'>Web Development with Erlang (5)</a></li>

  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/categories/asm/'>ASM (3)</a></li>
<li class='category'><a href='/categories/asp-net/'>ASP.NET (4)</a></li>
<li class='category'><a href='/categories/agile/'>Agile (1)</a></li>
<li class='category'><a href='/categories/algorithms/'>Algorithms (6)</a></li>
<li class='category'><a href='/categories/apple/'>Apple (3)</a></li>
<li class='category'><a href='/categories/backbonejs/'>BackboneJS (1)</a></li>
<li class='category'><a href='/categories/being-in-the-industry/'>Being in the Industry (29)</a></li>
<li class='category'><a href='/categories/blogging/'>Blogging (15)</a></li>
<li class='category'><a href='/categories/bootstrap/'>Bootstrap (1)</a></li>
<li class='category'><a href='/categories/c-/'>C# (15)</a></li>
<li class='category'><a href='/categories/clr/'>CLR (3)</a></li>
<li class='category'><a href='/categories/challenges/'>Challenges (7)</a></li>
<li class='category'><a href='/categories/databases/'>Databases (6)</a></li>
<li class='category'><a href='/categories/digital-rights/'>Digital Rights (7)</a></li>
<li class='category'><a href='/categories/erlang/'>Erlang (8)</a></li>
<li class='category'><a href='/categories/erlydtl/'>ErlyDTL (2)</a></li>
<li class='category'><a href='/categories/f-/'>F# (4)</a></li>
<li class='category'><a href='/categories/fail/'>Fail (2)</a></li>
<li class='category'><a href='/categories/food/'>Food (1)</a></li>
<li class='category'><a href='/categories/freeware/'>Freeware (9)</a></li>
<li class='category'><a href='/categories/functional-programming/'>Functional Programming (29)</a></li>
<li class='category'><a href='/categories/funny/'>Funny (9)</a></li>
<li class='category'><a href='/categories/games/'>Games (5)</a></li>
<li class='category'><a href='/categories/google/'>Google (10)</a></li>
<li class='category'><a href='/categories/guest-posts/'>Guest posts (1)</a></li>
<li class='category'><a href='/categories/howto/'>HOWTO (18)</a></li>
<li class='category'><a href='/categories/hardware/'>Hardware (9)</a></li>
<li class='category'><a href='/categories/haskell/'>Haskell (20)</a></li>
<li class='category'><a href='/categories/life/'>Life (2)</a></li>
<li class='category'><a href='/categories/linux/'>Linux (10)</a></li>
<li class='category'><a href='/categories/mac-os/'>Mac OS (2)</a></li>
<li class='category'><a href='/categories/merb/'>Merb (1)</a></li>
<li class='category'><a href='/categories/mercurial/'>Mercurial (3)</a></li>
<li class='category'><a href='/categories/microsoft/'>Microsoft (18)</a></li>
<li class='category'><a href='/categories/miscellaneous/'>Miscellaneous (56)</a></li>
<li class='category'><a href='/categories/mono/'>Mono (2)</a></li>
<li class='category'><a href='/categories/networks/'>Networks (2)</a></li>
<li class='category'><a href='/categories/nosql/'>NoSQL (3)</a></li>
<li class='category'><a href='/categories/oauth/'>OAuth (1)</a></li>
<li class='category'><a href='/categories/open-source/'>Open Source (2)</a></li>
<li class='category'><a href='/categories/privacy/'>Privacy (3)</a></li>
<li class='category'><a href='/categories/productivity/'>Productivity (1)</a></li>
<li class='category'><a href='/categories/project-euler/'>Project Euler (11)</a></li>
<li class='category'><a href='/categories/protip/'>Protip (1)</a></li>
<li class='category'><a href='/categories/rce/'>RCE (4)</a></li>
<li class='category'><a href='/categories/riak/'>Riak (7)</a></li>
<li class='category'><a href='/categories/ruby-on-rails/'>Ruby on Rails (1)</a></li>
<li class='category'><a href='/categories/screencasts/'>Screencasts (1)</a></li>
<li class='category'><a href='/categories/security/'>Security (11)</a></li>
<li class='category'><a href='/categories/series/'>Series (1)</a></li>
<li class='category'><a href='/categories/shortcuts/'>Shortcuts (4)</a></li>
<li class='category'><a href='/categories/software/'>Software (31)</a></li>
<li class='category'><a href='/categories/software-development/'>Software Development (66)</a></li>
<li class='category'><a href='/categories/sorting/'>Sorting (5)</a></li>
<li class='category'><a href='/categories/technology/'>Technology (40)</a></li>
<li class='category'><a href='/categories/testing/'>Testing (1)</a></li>
<li class='category'><a href='/categories/tips-tricks/'>Tips/Tricks (11)</a></li>
<li class='category'><a href='/categories/twitter/'>Twitter (2)</a></li>
<li class='category'><a href='/categories/wpf/'>WPF (1)</a></li>
<li class='category'><a href='/categories/wtf/'>WTF (20)</a></li>
<li class='category'><a href='/categories/webmachine/'>Webmachine (7)</a></li>
<li class='category'><a href='/categories/windows/'>Windows (12)</a></li>
<li class='category'><a href='/categories/xss/'>XSS (1)</a></li>

  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
Copyright &copy; 2013 -
<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Blog content for OJ's rants</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://buffered.io/+" property="cc:attributionName" rel="cc:attributionURL">OJ Reeves</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a> -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ojsrants';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://buffered.io/posts/creating-concrete-objects/';
        var disqus_url = 'http://buffered.io/posts/creating-concrete-objects/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
