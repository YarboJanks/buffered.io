
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>'Point-Free style: What is it good for?' - OJ's rants</title>
  <meta name="author" content="OJ Reeves">

  <link rel="openid.server" href="http://www.myopenid.com/server" />
  <link rel="openid.delegate" href="http://thecolonial.myopenid.com/" />
  <link rel="openid2.local_id" href="http://thecolonial.myopenid.com" />
  <link rel="openid2.provider" href="http://www.myopenid.com/server" />
  <meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=thecolonial.myopenid.com" />


  
  <meta name="description" content="If you&#8217;re not interested in what inspired this post, then skip this section and jump to the more interesting bits. A Little Bit of History &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link href="http://feeds.feedburner.com/OjsRants" rel="alternate" title="OJ's rants RSS 2.0" type="application/rss+xml">
  <link rel="canonical" href="http://buffered.io/posts/point-free-style-what-is-it-good-for">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  <script src="/javascripts/modernizr-2.0.js" type="text/javascript"></script>
  <script src="/javascripts/ender.js" type="text/javascript"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>

  <script type="text/javascript">
    Modernizr.load([
      { load: '//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js' },
      { load: '/javascripts/jquery.lightbox.js', complete: function() {
        $("a[rel^='lightbox']").lightbox();
      } }
    ]);
  </script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8648787-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">OJ's rants</a></h1>
  
    <h2>It's not about you, it's about the software</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/OjsRants" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:buffered.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/posts/archives">Archives</a></li>
  <li><a href="/+">About</a></li>
  <li><a href="http://www.google.com/recaptcha/mailhide/d?k=01KtoERsnUusX9vVliTm27uQ==&c=Be1wE57A4P96e6U9_HLCvw==">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">'Point-Free Style: What Is It Good For?'</h1>
    
    
      <p class="meta">
        








  



<time datetime="2009-06-27T21:49:00+10:00" pubdate data-updated="true">27 Jun 2009</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>If you&#8217;re not interested in what inspired this post, then skip this section and <a href="#MoreInteresting" title="The purpose of the post">jump</a> to the more interesting bits.</p>

<h2>A Little Bit of History</h2>

<p>Recently I&#8217;ve been delving into <a href="http://haskell.org/" title="Haskell">Haskell</a> quite a bit. It&#8217;s part of my apparently never-ending quest to learn as much as I can about as many languages as I can (well, those that appeal to me at least :)). While I love playing around with a language, toying with ideas, writing small programs, reading books, blog posts, etc it&#8217;s not really the same as having an on-call expert to help and guide you.</p>

<!--more-->


<p> While I&#8217;m aware of, and frequently visit, the <a href=http://www.haskell.org/haskellwiki/IRC_channel" title="Haskell IRC">Haskell IRC channell</a> I find that the level of understanding there is so great that my piddly <a href="http://en.wikipedia.org/wiki/Newbie" title="Newbie">noob</a> questions tend to get lost amongst the bombardment of much more advanced &amp; interesting discussions. In short, while I find it a great place to go, it&#8217;s not a great place to find someone who&#8217;s happy to help guide me through the maze and go over topics in quite a bit of detail while I annoy them with questions.</p>

<p>Haskell is one of those languages where having a mentor is really beneficial. So I set about finding myself one. Thankfully, I found a rather helpful chap based in the UK, <del>(he shall remain anonymous, as I don&#8217;t want to violate the man&#8217;s privacy)</del>, <a href="http://twitter.com/peter_marks" title="Peter Marks">Peter Marks</a>, who has been very forthcoming with information. He&#8217;s humoured me and been incredibly patient so far, and I&#8217;m very grateful for his time.</p>

<p>One of the questions that I asked him was:<blockquote cite="OJ"><p>Why is it that everyone seems to strive to get their code into <a href="http://www.haskell.org/haskellwiki/Pointfree" title="Point Free">Point-Free</a> style? I can see how a lot of the implementations are more concise, but many of those lose readability.</p>

<p>What is so special about it?</p></blockquote>The discussion that followed was really insightful. That is what has inspired me to write this post.</p>

<p>Please note, any errors in this post are totally my own. They are not the fault of my mentor :)</p>

<p><span id="MoreInteresting"/></p>

<h2>The purpose of the post: Why aim for Point-Free style?</h2>

<p>So it is just me, or does anyone else out there feel that there&#8217;s a bit of a &#8220;thing&#8221; going on for Point-Free style? Sometimes I share my terrible code with people and I get shunned when it&#8217;s not Point-Free and it could be.</p>

<p>Anyone?</p>

<p>I hope it&#8217;s not just me :) Let&#8217;s start with taking a quick look at what Point-Free style actually is.</p>

<h3>So what is Point-Free style?</h3>

<p>If we take a look at the <a href=http://en.wikipedia.org/wiki/Point-free_programming" title="Wikipedia">Wikipedia</a> we can see that..<blockquote><p>Tacit [point-free] programming is a programming paradigm in which a function definition does not include information regarding its arguments, using combinators and function composition (but not ?-abstraction) instead of variables.</p></blockquote>Simple eh? :) In essence, it basically means that your function definition doesn&#8217;t reference any of its arguments/variables. For a crass definition, think <em>point == argument</em> and it should make sense.</p>

<p>So we&#8217;re writing functions without directly referencing its arguments. For those not familiar with Haskell or other languages that support this, let&#8217;s take a look at an example:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="c1">-- sum : take a list of numbers and add them all up to get a total</span>
</span><span class='line'><span class="c1">-- start with the base-case: an empty list</span>
</span><span class='line'><span class="nf">sum</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="mi">0</span>
</span><span class='line'><span class="nf">sum</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">sum</span> <span class="n">xs</span>
</span></code></pre></td></tr></table></div></figure>


<p>We can see that the above function is written in such a way that the arguments passed into the function are actually referenced in the body of the code. This is how a standard imperative programmer would write this function if he/she was new to Haskell. If we instead used a <a href="http://www.haskell.org/haskellwiki/Fold" title="Fold">fold</a>, we could define it like so:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="nf">sum</span> <span class="n">xs</span> <span class="ow">=</span> <span class="n">foldr</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="mi">0</span> <span class="n">xs</span>
</span></code></pre></td></tr></table></div></figure>


<p>This does exactly the same thing as the previous definition, but as you can see the grunt work is done by the fold function. Now that we have this definition, we can easily move to Point-Free style:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="nf">sum</span> <span class="ow">=</span> <span class="n">foldr</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="mi">0</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here we can see that no reference is made to the arguments of the function. Since we haven&#8217;t referenced any &#8220;points&#8221;, we have a Point-Free implementation.</p>

<p>Awesome. Cool. Sweet. Nifty.</p>

<p>But what does it give me? Why is it better?</p>

<h3>Why use Point-Free style?</h3>

<p>This section is based totally on my own opinion and is not an official definition :) I think that Point-Free style fits in the same category as many other coding patterns and styles, and that it&#8217;s usually down to the individual programmer to determine the when and the why. So take my view with a pinch of salt.</p>

<p>In short, Point-Free style let&#8217;s you <em>focus on the <strong>how</strong> rather than the <strong>what</strong></em>.</p>

<p>It might be just me, but imperative programs seem to have a large focus on the data. The code which operates on the data is lost within a plethora of code that isn&#8217;t necessarily specific to what the program needs to do. I&#8217;ve found that functional programming tends to be very different, at least in Haskell. Haskell lets me focus on what it is I need to do, and I feel that Point-Free is another step in the same direction. Is this good? I think so :) But I&#8217;ll let you decide.</p>

<p>As well as the focus on the <strong>what</strong> I&#8217;ve found that aiming for a Point-Free solution can aid in helping you understand your problem better. This claim sounds like fluff, so let&#8217;s go through an example and hopefully you&#8217;ll see what I mean.</p>

<h3>Where Point-Free helped me get a better understanding</h3>

<p>Haskell developers use the <a href="http://www.haskell.org/haskellwiki/Function_composition" title="Function composition">composition operator</a> <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/src/GHC-Base.html#." title="(.) implementation in Prelude">(.)</a> a lot. It actually aids in creating Point-Free style. I love the irony here. We add points (.) to remove points (arguments).</p>

<p>Anyway, the composition operator&#8217;s definition, according to <a href="http://www.haskell.org/onlinereport/standard-prelude.html" title="Prelude">Prelude</a> is:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="p">(</span><span class="o">.</span><span class="p">)</span>       <span class="ow">::</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">c</span>
</span><span class='line'><span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>This operator takes two functions and produces a function which is composed of the two. This function takes the output of one function and sends it through as the input to another function, returning the result of that call.</p>

<p>This is really handy. We can do some interesting things like:</p>

<pre><code>ghci&gt; let doubleAndAdd5 = (+5) . (*2)
ghci&gt; doubleAndAdd5 20
45
ghci&gt; :m +Data.List
ghci&gt; let sumColumns = map sum . transpose
ghci&gt; sumColumns [[1,2,3],[4,5,6],[7,8,9]]
[12,15,18]
</code></pre>

<p>Very handy indeed. While handy, it doesn&#8217;t necessarily allow us to do everything we might want to do. One example is handling cases where we want to compose a function where the right-hand function takes two arguments instead of one.</p>

<p>So if we wanted to create a function that would take two values, add them together and double the result, all while using Point-Free style, we&#8217;d like to do something like this:</p>

<pre><code>ghci&gt; let addAndDouble = (*2) . (+)

&lt;interactive&gt;:1:20:
    No instance for (Num (a -&gt; a))
      arising from a use of `*' at &lt;interactive&gt;:1:20-21
    Possible fix: add an instance declaration for (Num (a -&gt; a))
    In the first argument of `(.)', namely `(* 2)'
    In the expression: (* 2) . (+)
    In the definition of `addAndDouble': addAndDouble = (* 2) . (+)
ghci&gt;
</code></pre>

<p>As you can see, ghci doesn&#8217;t like it. And rightly so! This is because the composition operator&#8217;s signature is:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="ow">::</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">c</span>
</span></code></pre></td></tr></table></div></figure>


<p>That is:</p>

<ol><li>It takes an argument which is a function which takes a value of type <em>b</em> which returns a value of type <em>c</em></li><li>It takes a function which takes a value of type <em>a</em> which returns returns a value of type <em>b</em></li><li>It returns a new function which takes a value of type <em>a</em> and returns a value of type <em>c</em></li></ol>


<p>This doesn&#8217;t work in our case, as we want our right-hand function to take two arguments. That is, we want a type signature that looks like this:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="nf">foo</span> <span class="ow">::</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a1</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a1</span> <span class="ow">-&gt;</span> <span class="n">c</span>
</span></code></pre></td></tr></table></div></figure>


<p>So everywhere we had <em>(a -> b)</em>, what we really want is <em>(a -> a1 -> b)</em>. Given that we don&#8217;t have an operator that does that for us, let&#8217;s define one. We&#8217;ll start with the definition of the (.) operator and work towards a function that does what we need.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="c1">-- here is the composition operator again</span>
</span><span class='line'><span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span>
</span><span class='line'><span class="c1">-- here&#39;s our new operator&#39;s definition</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span> <span class="n">y</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Simple! Let&#8217;s see what ghci says about it:</p>

<pre><code>ghci&gt; let (.^) f g x y = f (g x y)
ghci&gt; :t (.^)
a :: (t2 -&gt; t3) -&gt; (t -&gt; t1 -&gt; t2) -&gt; t -&gt; t1 -&gt; t3
</code></pre>

<p>Looks good! This is exactly what we need. Now that we have a working function, let&#8217;s aim to write this in Point-Free style. We do this by breaking down the function slowly and eliminating arguments by moving them to the far right hand side of the function definition.</p>

<p>The first argument to get rid of is &#8216;y&#8217;, as this is the last argument passed in:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="c1">-- start by moving y to the right</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span> <span class="n">y</span><span class="p">)</span>
</span><span class='line'><span class="c1">-- becomes</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="n">f</span> <span class="o">.</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span> <span class="o">$</span> <span class="n">y</span>
</span></code></pre></td></tr></table></div></figure>


<p>These are functionally equivalent, and now that &#8216;y&#8217; is out on it&#8217;s own, we can drop it from our function definition:</p>

<pre><code>ghci&gt; let (.^) f g x = f . (g x)
ghci&gt; :t (.^)
(.^) :: (b -&gt; c) -&gt; (t -&gt; a -&gt; b) -&gt; t -&gt; a -&gt; c
ghci&gt;
</code></pre>

<p>Excellent, we&#8217;re a step closer. Now we need to do the same with &#8216;x&#8217;. This takes a little more fiddling:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="c1">-- we need to take the original definition</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">f</span> <span class="o">.</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span>
</span><span class='line'><span class="c1">-- and change it so that it uses prefix notation instead of infix</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="ow">=</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span>
</span><span class='line'><span class="c1">-- which is the same as</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="ow">=</span> <span class="p">((</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span><span class="p">)</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span>
</span><span class='line'><span class="c1">-- what we&#39;re doing is calling g with x and applying the result to f</span>
</span><span class='line'><span class="c1">-- and hence we can compose the composition of f with the call to g</span>
</span><span class='line'><span class="c1">-- giving us the following</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="n">x</span> <span class="ow">=</span> <span class="p">((</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span><span class="p">)</span> <span class="o">.</span> <span class="n">g</span> <span class="o">$</span> <span class="n">x</span>
</span><span class='line'><span class="c1">-- finally leaving us with</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="ow">=</span> <span class="p">((</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span><span class="p">)</span> <span class="o">.</span> <span class="n">g</span>
</span></code></pre></td></tr></table></div></figure>


<p>Phew :) I hope you can see the progression. We&#8217;ve managed to move x out of the picture, so now we&#8217;re down to a fairly crazy looking definition. Let&#8217;s see what ghci has to say:</p>

<pre><code>ghci&gt; let (.^) f g = ((.) f) . g
ghci&gt; :t (.^)
(.^) :: (b -&gt; c) -&gt; (a1 -&gt; a -&gt; b) -&gt; a1 -&gt; a -&gt; c
</code></pre>

<p>So we&#8217;ve got rid of two variables, but there are still two more to go! Remember, &#8216;f&#8217; and &#8216;g&#8217; are still variables, they just carry functions. So let&#8217;s get rid of &#8216;g&#8217;:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="c1">-- start with what we had before</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="ow">=</span> <span class="p">((</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span><span class="p">)</span> <span class="o">.</span> <span class="n">g</span>
</span><span class='line'><span class="c1">-- change to prefix notation again</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="n">g</span> <span class="ow">=</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="p">((</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span><span class="p">)</span> <span class="n">g</span>
</span><span class='line'><span class="c1">-- and drop g</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="ow">=</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="p">((</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is looking rather crazy :) Again, let&#8217;s make sure we haven&#8217;t done anything stupid:</p>

<pre><code>ghci&gt; let (.^) f = (.) ((.) f)
ghci&gt; :t (.^)
(.^) :: (b -&gt; c) -&gt; (a1 -&gt; a -&gt; b) -&gt; a1 -&gt; a -&gt; c
</code></pre>

<p>Excellent. We&#8217;ve still got what we need. One more point needs to be dropped, so let&#8217;s get rid of &#8216;f&#8217;:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='haskell'><span class='line'><span class="c1">-- start with what we had before</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="ow">=</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="p">((</span><span class="o">.</span><span class="p">)</span> <span class="n">f</span><span class="p">)</span>
</span><span class='line'><span class="c1">-- which means that we&#39;re composing a composition with a</span>
</span><span class='line'><span class="c1">-- function composed of f and something else</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="n">f</span> <span class="ow">=</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="o">$</span> <span class="n">f</span>
</span><span class='line'><span class="c1">-- and we finally drop f</span>
</span><span class='line'><span class="p">(</span><span class="o">.^</span><span class="p">)</span> <span class="ow">=</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span> <span class="o">.</span> <span class="p">(</span><span class="o">.</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Isn&#8217;t that just crazy! Let&#8217;s again check ghci:</p>

<pre><code>ghci&gt; let (.^) = (.) . (.)
ghci&gt; :t (.^)
(.^) :: (b -&gt; c) -&gt; (a1 -&gt; a -&gt; b) -&gt; a1 -&gt; a -&gt; c
</code></pre>

<p>So there we have it, our operator completely in Point-Free style.</p>

<p>This is where the penny dropped for me. The whole exercise of moving through to Point-Free made me really understand what it was I was doing in the first place. The final definition makes it very clear. We&#8217;re composing two separate compositions.
Let&#8217;s see if our function behaves itself using the example we listed above.</p>

<pre><code>ghci&gt; let addAndDouble = (*2) .^ (+)
ghci&gt; :t addAndDouble
addAndDouble :: Integer -&gt; Integer -&gt; Integer
ghci&gt; addAndDouble 10 15
50
ghci&gt; addAndDouble 21 3
48
</code></pre>

<p>It does exactly what we need it too.</p>

<h2>Conclusion</h2>

<p>To sum up, Point-Free helps you tidy your code into more concise implementations which tend to aid you in understanding what it is you are trying to do. I feel it really helps you focus on what you&#8217;re doing as opposed to what you&#8217;re doing it to. It&#8217;s down to you to determine whether you feel this is a good thing or not!</p>

<p>It is ultimately down to the developer to dictate when it should be used. There are definitely cases where the resulting function might not actually help in making things clearer. But on the whole, Point-Free style seems to help me understand what it is I&#8217;m doing (or, arguably, not doing).</p>

<p>Of course, you could just get sick and tired of trying to come up with variable names, in which case Point-Free is the bomb :)</p>

<p>Feedback of any kind is always welcome. Cheers!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">OJ Reeves</span></span>

      








  



<time datetime="2009-06-27T21:49:00+10:00" pubdate data-updated="true">27 Jun 2009</time>
      

<span class="categories">
  
    <a class='category' href='/categories/functional-programming/'>Functional Programming</a>, <a class='category' href='/categories/haskell/'>Haskell</a>, <a class='category' href='/categories/software-development/'>Software Development</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://buffered.io/posts/point-free-style-what-is-it-good-for/" data-via="TheColonial" data-counturl="http://buffered.io/posts/point-free-style-what-is-it-good-for/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/posts/data-crunching-in-haskell/" title="Previous Post: Data Crunching in Haskell">&laquo; Data Crunching in Haskell</a>
      
      
        <a class="basic-alignment right" href="/posts/the-value-of-a-technical-community/" title="next Post: The Value of a Technical Community">The Value of a Technical Community &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>OJ on the Web</h1>
  <ul id="about_me">
    <li class="post">
      <a href="http://buffered.io/+" title="About OJ">About me</a>
    </li>
    <li class="post">
      <a href="http://functional.io/" title="Functional IO">Functional IO</a>
    </li>
    <li class="post">
      <a href="http://twitter.com/TheColonial" title="OJ @ Twitter">Twitter</a>
    </li>
    <li class="post">
      <a href="http://github.com/OJ/" title="OJ @ Github">Github</a>
    </li>
    <li class="post">
      <a href="http://bitbucket.org/OJ/" title="OJ @ Bitbucket">Bitbucket</a>
    </li>
    <li class="post">
      <a href="http://stackoverflow.com/users/611/oj" title="OJ @ SO">StackOverflow</a>
    </li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/posts/webmachine-erlydtl-and-riak-part-5/">Webmachine, ErlyDTL and Riak - Part 5</a>
      </li>
    
      <li class="post">
        <a href="/posts/webmachine-erlydtl-and-riak-part-4/">Webmachine, ErlyDTL and Riak - Part 4</a>
      </li>
    
      <li class="post">
        <a href="/posts/redirects-with-webmachine/">Redirects with Webmachine</a>
      </li>
    
      <li class="post">
        <a href="/posts/my-tools-list-2012/">My Tools List - 2012</a>
      </li>
    
      <li class="post">
        <a href="/posts/an-expert-at-23/">An Expert at 23</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("TheColonial", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/TheColonial" class="twitter-follow-button" data-show-count="false">Follow @TheColonial</a>
  
</section>

<section>
  <h1>Series</h1>
  <ul id="series">
    <li class='series'><a href='/series/project-euler/'>Project Euler (11)</a></li>
<li class='series'><a href='/series/web-development-with-erlang/'>Web Development with Erlang (5)</a></li>

  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/categories/asm/'>ASM (3)</a></li>
<li class='category'><a href='/categories/asp-net/'>ASP.NET (3)</a></li>
<li class='category'><a href='/categories/agile/'>Agile (1)</a></li>
<li class='category'><a href='/categories/algorithms/'>Algorithms (6)</a></li>
<li class='category'><a href='/categories/apple/'>Apple (3)</a></li>
<li class='category'><a href='/categories/being-in-the-industry/'>Being in the Industry (28)</a></li>
<li class='category'><a href='/categories/blogging/'>Blogging (15)</a></li>
<li class='category'><a href='/categories/c-/'>C# (15)</a></li>
<li class='category'><a href='/categories/clr/'>CLR (3)</a></li>
<li class='category'><a href='/categories/challenges/'>Challenges (7)</a></li>
<li class='category'><a href='/categories/databases/'>Databases (6)</a></li>
<li class='category'><a href='/categories/digital-rights/'>Digital Rights (7)</a></li>
<li class='category'><a href='/categories/erlang/'>Erlang (8)</a></li>
<li class='category'><a href='/categories/erlydtl/'>ErlyDTL (2)</a></li>
<li class='category'><a href='/categories/f-/'>F# (4)</a></li>
<li class='category'><a href='/categories/fail/'>Fail (2)</a></li>
<li class='category'><a href='/categories/food/'>Food (1)</a></li>
<li class='category'><a href='/categories/freeware/'>Freeware (9)</a></li>
<li class='category'><a href='/categories/functional-programming/'>Functional Programming (28)</a></li>
<li class='category'><a href='/categories/funny/'>Funny (9)</a></li>
<li class='category'><a href='/categories/games/'>Games (5)</a></li>
<li class='category'><a href='/categories/google/'>Google (10)</a></li>
<li class='category'><a href='/categories/guest-posts/'>Guest posts (1)</a></li>
<li class='category'><a href='/categories/howto/'>HOWTO (18)</a></li>
<li class='category'><a href='/categories/hardware/'>Hardware (9)</a></li>
<li class='category'><a href='/categories/haskell/'>Haskell (20)</a></li>
<li class='category'><a href='/categories/linux/'>Linux (10)</a></li>
<li class='category'><a href='/categories/mac-os/'>Mac OS (2)</a></li>
<li class='category'><a href='/categories/merb/'>Merb (1)</a></li>
<li class='category'><a href='/categories/mercurial/'>Mercurial (3)</a></li>
<li class='category'><a href='/categories/microsoft/'>Microsoft (18)</a></li>
<li class='category'><a href='/categories/miscellaneous/'>Miscellaneous (56)</a></li>
<li class='category'><a href='/categories/mono/'>Mono (2)</a></li>
<li class='category'><a href='/categories/networks/'>Networks (2)</a></li>
<li class='category'><a href='/categories/nosql/'>NoSQL (3)</a></li>
<li class='category'><a href='/categories/oauth/'>OAuth (2)</a></li>
<li class='category'><a href='/categories/open-source/'>Open Source (2)</a></li>
<li class='category'><a href='/categories/privacy/'>Privacy (3)</a></li>
<li class='category'><a href='/categories/productivity/'>Productivity (1)</a></li>
<li class='category'><a href='/categories/project-euler/'>Project Euler (11)</a></li>
<li class='category'><a href='/categories/rce/'>RCE (4)</a></li>
<li class='category'><a href='/categories/riak/'>Riak (7)</a></li>
<li class='category'><a href='/categories/ruby-on-rails/'>Ruby on Rails (1)</a></li>
<li class='category'><a href='/categories/screencasts/'>Screencasts (1)</a></li>
<li class='category'><a href='/categories/security/'>Security (10)</a></li>
<li class='category'><a href='/categories/series/'>Series (1)</a></li>
<li class='category'><a href='/categories/shortcuts/'>Shortcuts (4)</a></li>
<li class='category'><a href='/categories/software/'>Software (31)</a></li>
<li class='category'><a href='/categories/software-development/'>Software Development (66)</a></li>
<li class='category'><a href='/categories/sorting/'>Sorting (5)</a></li>
<li class='category'><a href='/categories/technology/'>Technology (40)</a></li>
<li class='category'><a href='/categories/testing/'>Testing (1)</a></li>
<li class='category'><a href='/categories/tips-tricks/'>Tips/Tricks (11)</a></li>
<li class='category'><a href='/categories/twitter/'>Twitter (3)</a></li>
<li class='category'><a href='/categories/wpf/'>WPF (1)</a></li>
<li class='category'><a href='/categories/wtf/'>WTF (20)</a></li>
<li class='category'><a href='/categories/webmachine/'>Webmachine (7)</a></li>
<li class='category'><a href='/categories/windows/'>Windows (12)</a></li>

  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
Copyright &copy; 2012 -
<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Blog content for OJ's rants</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://buffered.io/+" property="cc:attributionName" rel="cc:attributionURL">OJ Reeves</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a> -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'ojsrants';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://buffered.io/posts/point-free-style-what-is-it-good-for/';
        var disqus_url = 'http://buffered.io/posts/point-free-style-what-is-it-good-for/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
